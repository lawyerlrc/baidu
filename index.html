<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>接收百度网盘返回的token</title>
</head>
<body>
    
<script type="text/javascript">
    
let params = (new URL(document.location)).searchParams;
let access_token = params.get('access_token'); 
let expires_in = params.get('expires_in'); 
let session_secret = params.get('session_secret'); 
let session_key = params.get('session_key'); 
let scope = params.get('scope'); 
// let age = parseInt(params.get('age')); 

    
// Octokit.js
// https://github.com/octokit/core.js#readme
const octokit = new Octokit({
  auth: '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'
})
alert(access_token);
await octokit.request('PUT /repos/lawyerlrc/baidu/contents/data.html', {
  owner: 'lawyerlrc',
  repo: 'baidu',
  path: 'data.html',
  message: 'my commit message',
  committer: {
    name: 'Monalisa Octocat',
    email: 'octocat@github.com'
  },
  content: access_token
})
</script>

</body>
</html>
